<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <title>Control ventas</title>
</head>
<body>
<select id="selectorVendedores"></select>
<table style= "border: solid 1px black">
    <thead>
        <tr>
            <td>Vendedor</td>
            <td>Cliente</td>
            <td>Fecha</td>
            <td>Importe</td>
        </tr>
    </thead>
    <tbody id="tablaVentas"></tbody>
</table>
<script src= "js/vendedores.js"></script>
<script>
    VistaSelectorVendedores.preparar('selectorVendedores');
    controladorVendedores.iniciar();
</script>
<script>
    fetch("../api/v1.0/ventas").then(function(respuesta){
        return respuesta.json();
    }).then(function(datosJson){
        //console.log(datosJson);
        let tabla = document.getElementById('tablaVentas');
        datosJson.forEach(function (venta) {
            tabla.innerHTML += `<tr>
                <td>$(venta.vendedor.apellidos), $(venta.vendedor.nombre)</td>
                <td>$(venta.cliente.nombre})</td>
                <td>$(venta.fecha)</td>
                <td>$(venta.importe) â‚¬</td>
           </tr>`;
        })
    });
</script>
</body>
</html>